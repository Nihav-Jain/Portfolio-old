<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<title>Nihav Jain</title>
		<meta name="description" content="Nihav Jain, Msc.(Tech.) Information Systems, BITS Pilani, Game Developer" />
		<meta name="keywords" content="nihav, jain, bits pilani, birla institute of technology and science, game developer, mobile-app developer, android, iOS, windows phone" />
		<meta name="author" content="Nihav Jain" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/smoothness/jquery-ui-1.10.1.custom.min.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/icons.css" />		
		<link rel="stylesheet" type="text/css" href="css/component.css" />


		<script src="js/modernizr.custom.js"></script>
	</head>
	<body>
		<div class="container">
			<!-- Push Wrapper -->
			<div class="mp-pusher" id="mp-pusher">

				<!-- mp-menu -->
				<nav id="mp-menu" class="mp-menu">
					<div class="mp-level">
						<h2 class="icon icon-user2">Nihav Jain</h2>
						<ul>
							<li>
								<a class="icon icon-user" href="#" id="about-link" data-linktype="content">About</a>
							</li>
							<li class="icon icon-arrow-left">
								<a class="icon icon-study" href="#" id="edu-link" data-linktype="subtype">Education</a>
								<div class="mp-level">
									<h2 class="icon icon-study">Education</h2>
									<a class="mp-back" href="#">back</a>
									<ul>
										<li><a href="#" id="bits-link" data-linktype="content">BITS Pilani</a></li>
										<li><a href="#" id="jaip-link" data-linktype="content">Seth M.R. Jaipuria School</a></li>
									</ul>
								</div>
							</li>
							<li><a class="icon icon-wrench" href="#" id="skills-link" data-linktype="content">Skills</a></li>
							<li class="icon icon-arrow-left">
								<a class="icon icon-code" href="#" id="proj-link" data-linktype="subtype">Projects</a>
								<div class="mp-level">
									<h2 class="icon icon-code">Projects</h2>
									<a class="mp-back" href="#">back</a>
									<ul>
										<li class="icon icon-arrow-left">
											<a href="#" id="games-link" data-linktype="subtypewithcontent">Games</a>
											<div class="mp-level">
												<h2>Games</h2>
												<a class="mp-back" href="#">back</a>
												<ul>
													<li><a href="#" id="pacman-link" data-linktype="content">Pacman : The Elements</a></li>
													<li><a href="#" id="lacuna13-link" data-linktype="content">Lacuna 2013</a></li>
													<li><a href="#" id="lacuna12-link" data-linktype="content">Lacuna 2012</a></li>
												</ul>
											</div>
										</li>
										<li class="icon icon-arrow-left">
											<a href="#" id="undergrad-link" data-linktype="subtypewithcontent">Under-Graduate</a>
											<div class="mp-level">
												<h2>Under-Graduate</h2>
												<a class="mp-back" href="#">back</a>
												<ul>
													<li><a href="#" id="eattend-link" data-linktype="content">EAttend</a></li>
													<li><a href="#" id="mmc-link" data-linktype="content">Multimedia Computing</a></li>
													<li><a href="#" id="compiler-link" data-linktype="content">Compiler Design</a></li>
													<li><a href="#" id="testing-link" data-linktype="content">Software Testing</a></li>
													<li><a href="#" id="notice-link" data-linktype="content">BITS Online Notice Board</a></li>
													<li><a href="#" id="parallel-link" data-linktype="content">Parallel Computing</a></li>
													<li><a href="#" id="db-link" data-linktype="content">Database Systems</a></li>
												</ul>
											</div>
										</li>
										<li class="icon icon-arrow-left">
											<a href="#" id="cctv-link" data-linktype="subtypewithcontent">Dept. of Visual Media / CCTV</a>
											<div class="mp-level">
												<h2>Dept. of Visual Media / CCTV</h2>
												<a class="mp-back" href="#">back</a>
												<ul>
													<li><a href="#" id="oasis-link" data-linktype="content">Oasis 2012 Website</a></li>
													<li><a href="#" id="oasisintro-link" data-linktype="content">Oasis 2012 : Intro Website</a></li>
													<li><a href="#" id="oasisapp-link" data-linktype="content">Oasis 2013 : Android App</a></li>
													<li><a href="#" id="apogeeapp-link" data-linktype="content">APOGEE 2014 : Android App</a></li>
													<li><a href="#" id="aarohan-link" data-linktype="content">Aarohan</a></li>
												</ul>
											</div>
										</li>
										<li class="icon icon-arrow-left">
											<a href="#" id="acm-link" data-linktype="subtypewithcontent">ACM Student Chapter</a>
											<div class="mp-level">
												<h2>ACM Student Chapter</h2>
												<a class="mp-back" href="#">back</a>
												<ul>
													<li><a href="#" id="checkmate-link" data-linktype="content">Checkmate</a></li>
													<li><a href="#" id="codeenigma-link" data-linktype="content">Code Enigma</a></li>
													<li><a href="#" id="iw-link" data-linktype="content">Internet Whirlwind</a></li>
													<li><a href="#" id="sms-link" data-linktype="content">Stock Market Simulation</a></li>
												</ul>
											</div>
										</li>
										<li class="icon icon-arrow-left">
											<a href="#" id="personal-link" data-linktype="subtypewithcontent">Personal</a>
											<div class="mp-level">
												<h2>Personal</h2>
												<a class="mp-back" href="#">back</a>
												<ul>
												</ul>
											</div>
										</li>
										<li><a href="#" id="bisag-link" data-linktype="content">BISAG</a></li>
										<li><a href="#" id="aarohan14-link" data-linktype="content">Aarohan</a></li>
										<li><a href="#" id="apogee14-link" data-linktype="content">APOGEE 2014</a></li>
									</ul>
									
								</div>
							</li>
							<li><a class="icon icon-briefcase" href="#" id="experience-link" data-linktype="content">Experience</a></li>
							<li><a class="icon icon-profile" href="#" id="resume-link" data-linktype="content">Resume</a></li>
							<li><a class="icon icon-dribbble" href="#" id="extra-link" data-linktype="content">Extra-Curricular</a></li>
						</ul>
							
					</div>
				</nav>

				<!-- /mp-menu -->
					<div class="codrops-header">
							
								<a href="#" id="trigger" class="menu-trigger"></a>
								Nihav Jain <span>| Msc.(Tech.) Information Systems | BITS Pilani |</span>
								
									<a href="https://plus.google.com/+NihavJain" target="_blank" class="icon icon-googleplus"></a><a href="https://www.facebook.com/nihav.jain" target="_blank" class="icon icon-facebook"></a><a href="http://in.linkedin.com/pub/nihav-jain/3b/529/aa6" target="_blank" class="icon icon-linkedin"></a><a href="https://twitter.com/nihavjain" target="_blank" class="icon icon-twitter"></a>
								
							</div>
				<div class="scroller"><!-- this is for emulating position fixed of the nav -->

						<div class="scroller-inner">
						
						<div id="about" class="main-content">
							<h2>About</h2>
							<p>Hi, I am Nihav Jain, a 4th year under-graduate pursuing Msc.(Tech.) Information Systems from Birla Institute of Technology and Science, Pilani - Pilani Campus.</p>
<p>I am a passionate game developer, a workaholic, and an avid Star Wars fan. My knack for software development has led me far into the programming world.........</p>
<p>Interests - Game Development, Mobile App Development</p>
						</div>
						<div id="bits" class="main-content">
							<h2>BITS Pilani</h2>
							<p>Birla Institute of Technology and Science, Pilani, a deemed university established in 1964, &nbsp;is India's topmost private engineering institute for undergraduate education.</p>
<p><strong>Msc.(Tech.) Information Systems : 2011 - 2015(expected)</strong></p>
<p>This is a 4-year undergraduate course offered by the institute in equivalence to the B.E.(Hons.) Computer Science degree. The programme equips students with comprehensive skills on computer software and software engineering techniques, both at the conceptual and application levels.</p>
<p><span style="text-decoration: underline;"><strong>Courses</strong></span> -</p>
<ul>
<li>Computer Programming</li>
<li>Logic in Computer Science</li>
<li>Discrete Structures for Computer Science</li>
<li>Object Oriented Programming &amp; Design</li>
<li>Data Structures &amp;&nbsp;Algorithms</li>
<li>Design &amp; Analysis of Algorithms</li>
<li>Digital Electronics and Microprocessors</li>
<li>Computer Organization</li>
<li>Operating Systems</li>
<li>Principles of Programming Language</li>
<li>Compiler Design</li>
<li>Computer Networks</li>
<li>Software Engineering</li>
<li>Software Testing</li>
<li>Database Systems &amp; Applications</li>
<li>Computer Graphics</li>
<li>Multimedia Computing</li>
<li>Number Theory</li>
<li>Maths I</li>
<li>Maths II</li>
<li>Maths III - Differential Equations</li>
<li>Probability and Statistics</li>
</ul>
						</div>
						<div id="jaip" class="main-content">
							<h2>Seth M.R. Jaipuria</h2>
							<p>Seth M.R. Jaipuria School, Lucknow is an English medium school for Primary, Secondary and Higher Secondary education. It prepares students for the&nbsp;Indian Certificate of Secondary Education&nbsp;(ICSE - Year 10) and the&nbsp;Indian School Certificate&nbsp;(ISC - Year 12) Examinations. The School ranked 9th among the top schools of the country according to IMRB International Survey.</p>
<p>My Academic Results -</p>
<table style="height: 109px; width: 500px; margin-left: auto; margin-right: auto;" border="1" width="164">
<tbody>
<tr><th>Class</th><th>Specialization</th><th>Board</th><th>% marks</th><th>Year</th></tr>
<tr>
<td>XII</td>
<td>Science</td>
<td>ISC</td>
<td>93%</td>
<td>2011</td>
</tr>
<tr>
<td>X</td>
<td>General</td>
<td>ICSE</td>
<td>95.8%</td>
<td>2009</td>
</tr>
</tbody>
</table>
						</div>
						<div id="skills" class="main-content">
							<h2>Skills</h2>
							<!--
							<table width="75%">
								<tr>
									<td>Padawan
									</td>
									<td>Clone Trooper
									</td>
									<td>Jedi
									</td>
									<td>Jedi Master
									</td>
								</tr>
							</table>
							-->
							<ul>
								<li><div>C / C++ / C#<div class="skill-base"><div class="skill-level" data-level="75"></div></div></div></li>
								<li><div>Java<div class="skill-base"><div class="skill-level" data-level="90"></div></div></div></li>
								<li><div>Actionscript 3.0<div class="skill-base"><div class="skill-level" data-level="95"></div></div></div></li>
								<li><div>Python<div class="skill-base"><div class="skill-level" data-level="40"></div></div></div></li>
								<li><div>Android App Developement<div class="skill-base"><div class="skill-level" data-level="75"></div></div></div></li>
								<li><div>iOS App Developement<div class="skill-base"><div class="skill-level" data-level="55"></div></div></div></li>
								<li><div>Windows Phone App Development<div class="skill-base"><div class="skill-level" data-level="55"></div></div></div></li>
								<li><div>HTML<div class="skill-base"><div class="skill-level" data-level="50"></div></div></div></li>
								<li><div>CSS<div class="skill-base"><div class="skill-level" data-level="50"></div></div></div></li>
								<li><div>Javascript<div class="skill-base"><div class="skill-level" data-level="70"></div></div></div></li>
								<li><div>PHP<div class="skill-base"><div class="skill-level" data-level="80"></div></div></div></li>
								<li><div>SQL<div class="skill-base"><div class="skill-level" data-level="65"></div></div></div></li>
								<li><div>Box2D Physics Engine(AS3, C++)<div class="skill-base"><div class="skill-level" data-level="70"></div></div></div></li>
								<li><div>Starling Framework (AS3)<div class="skill-base"><div class="skill-level" data-level="65"></div></div></div></li>
								<li><div>Away3d (AS3)<div class="skill-base"><div class="skill-level" data-level="65"></div></div></div></li>
								<li><div>Google App Scripts<div class="skill-base"><div class="skill-level" data-level="50"></div></div></div></li>
								<li><div>Facebook SDK (PHP)<div class="skill-base"><div class="skill-level" data-level="85"></div></div></div></li>
								<li><div>Adobe Flash<div class="skill-base"><div class="skill-level" data-level="95"></div></div></div></li>
								<li><div>Adobe Photoshop<div class="skill-base"><div class="skill-level" data-level="50"></div></div></div></li>
								<li><div>Eclipse<div class="skill-base"><div class="skill-level" data-level="70"></div></div></div></li>
								<li><div>NetBeans<div class="skill-base"><div class="skill-level" data-level="70"></div></div></div></li>
								<li><div>XCode<div class="skill-base"><div class="skill-level" data-level="60"></div></div></div></li>
								<li><div>Visual Studio<div class="skill-base"><div class="skill-level" data-level="65"></div></div></div></li>
							</ul>
						</div>
						<div id="games" class="main-content">
							<h2>Games</h2>
							<p>
								Till now I have made 3 games, namely Pacman : The Elements, Lacuna 2013 and Lacuna 2012. The Elements is a modified version of the legendary game of Pacman whereas both versions of Lacuna are an online treasure hunt game with 5 levels each.
							</p>
						</div>
						<div id="pacman" class="main-content">
							<h2>Pacman : The Elements</h2>

							<iframe width="560" height="340"
								src="http://www.youtube.com/embed/gJHlyL_yrUI" frameBorder="0">
							</iframe>
						</div>
						<div id="lacuna13" class="main-content">
							<h2>Lacuna 2013</h2>
							<p>
								Lacuna 2013
							</p>
						</div>
						<div id="lacuna12" class="main-content">
							<h2>Lacuna 2012</h2>
							<p>Lacuna 2012</p>
						</div>
						<div id="undergrad" class="main-content">
							<h2>Under-Graduate Projects</h2>
							<p>
								Herein I have listed all the projects I did as part of some or the other coursework while studying in BITS Pilani.
							</p>
						</div>
						<div id="eattend" class="main-content">
							<h2>EAttend@BITS Pilani</h2>
							<h5>Guide: Prof. Rahul Banerjee</h5>
							<p>This is an Android application developed by the SDET Unit, BITS Pilani, under the guidance of Prof. Rahu Banerjee, for marking the attendance of students via face recognition.</p>
<p><a href="https://play.google.com/store/apps/details?id=com.bits.e_attendv12&amp;hl=en" target="_blank">Click here</a>&nbsp;to view the app on Google Play</p>
<p><span style="text-decoration: underline;">Role</span>:&nbsp;</p>
<p>1.Worked on the face recognition algorithm for marking the attendance.<br />2.Integrated the face recognition module with the Android application<br />3.Integrated the face recognition module with the PHP based backend for storing the attendance results.</p>
						</div>
						<div id="compiler" class="main-content">
							<h2>Compiler Design</h2>
							<p>Compiler Construction in C for given language specifications</p>
						</div>
						<div id="testing" class="main-content">
							<h2>Software Testing</h2>
							<p>Summary of a research paper</p>
						</div>
						<div id="mmc" class="main-content">
							<h2>Real-time Rendering of Animated Motion through Clouds</h2>
							<h5>Multimedia Computing</h5>
							<h5>Guide: Dr. Mukesh Kr. Rohil</h5>
							<iframe width="560" height="340"
								src="http://www.youtube.com/embed/0v9s9tw5jQM" frameBorder="0">
							</iframe>
							<p>Clouds or the sky forms an important part of the background in many graphics projects like games and movies. Generating life like clouds is a problem which can be looked at by many different outlooks. When the clouds are in the background or there is hardly any motion relative though them it becomes simpler to solve.</p>
<p>Generating them over in 3D when we need the clouds to have some volume is slightly difficult. Though we can still create them using <a href="https://support.solidangle.com/display/mayatut/Rendering+Clouds+using+the+Volume+Shader" target="_blank">volumetric shading in Maya</a>.&nbsp;This procedure increases the render time and it cannot be used for real-time rendering for when using it in games or for interactive visual media.</p>
<p>This project uses texture swatching for efficient real-time rendering of the clouds.</p>
<p><strong>Texture Swatches</strong> -</p>
<p>Using texture swatches as the skin for 3D objects and rendering them in real time is a very efficient and age old technique. It uses mip maps to store the pre-preprocessed data for the various transformations the texture can undergo. Since these textures are used as a swatch i.e. the same texture is used as a repeated pattern for majority of the 3D scene, the processing as well as memory used in storing the required data is very less. The parallelization of the GPU really comes to work here as each core picks up one instance of the swatch and applies the required transformation values to it by using the mip maps as a lookup table. The cut-down on the calculation part compensates for the large number of textures used in the scene.</p>
<p>I have implemented the proposed solution in <strong>Actionscript 3.0 on the Stage3D framework</strong> using the <strong>Away3D</strong> graphics library.</p>
<p>The&nbsp;Stage3D framework&nbsp;in Adobe Flash offers a fully hardware-accelerated architecture. This set of low-level GPU-accelerated APIs provide developers with the flexibility to leverage GPU hardware acceleration for significant performance gains in video and game development.</p>
<p>Starting with a hardware accelerated framework as base, I&nbsp;setup the 3D scene and positioned the camera at an appropriate distance.</p>
<p>The <strong>FogMethod is an additional optimization</strong> which renders objects which lie only within a certain range of distance.</p>
<p><strong>Enabling mip mapping</strong> for the texture (line 98) is a very essential part of optimization as this step ensures the pre-processing of transformation matrices for the texture in use.</p>
<pre>//setup the view<br /> _view = new View3D();<br /> addChild(_view);<br /> <br /> //setup the camera<br /> _view.camera.z = -1000;<br /> _view.camera.y = 100;<br /> _view.camera.lookAt(new Vector3D());<br /> <br /> var bmpd:BitmapData = new BitmapData(32, 32, false, 0x326696);<br /> _view.background = new BitmapTexture(bmpd);</pre>
<pre>//setup the scene<br /> _fog = new FogMethod( -100, 3000, 0x4584b4);<br /> <br /> var texture:TextureMaterial = new TextureMaterial(Cast.bitmapTexture(cloudBitmap));<br /> texture.alphaBlending = true;<br /> texture.mipmap = true;<br /> texture.addMethod(_fog);<br /><br /></pre>
<p>Now that the setup of the scene is done and all the required items have been initialized, I added 800 texturized planes with random x, y, z, horizontal/vertical scale and rotation values.</p>
<p>Mouse movement functionality ensures a restricted yet smooth motion through the clouds.</p>
<p>In this project I have implemented a system for real-time simulation and rendering of realistic, clouds suitable for interactive applications such as flight simulators and games. These applications demand realism, but they cannot afford to sacrifice speed to achieve it. The algorithms and techniques applied here were developed with these requirements in mind. These algorithms are not only efficient; they also provide ways to trade quality for performance, and to amortize computation over many rendering frames in order to preserve high frame rates.</p>
<p>The performance delivered for the process applied above, as observed by the stat sheet on the top left corner of the demo, tells us that the <strong>frame rate is always close to 60 frames per second</strong>, never dipping below 45 f.p.s.</p>
						</div>
						<div id="notice" class="main-content">
							<h2>BITS Online Notice Board</h2>
							<p>Android app used to mark attendance of students via face recognition</p>
						</div>
						<div id="parallel" class="main-content">
							<h2>Point to point processing of digital images using parallel computing</h2>
							<p>Android app used to mark attendance of students via face recognition</p>
						</div>
						<div id="db" class="main-content">
							<h2>Music Library</h2>
							<p>Android app used to mark attendance of students via face recognition</p>
						</div>

						<div id="cctv" class="main-content">
							<h2>Department of Visual Media / CCTV</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="oasis" class="main-content">
							<h2>Oasis 2012 : The Reinvention</h2>
							<p>
								Main site
							</p>
						</div>
						<div id="oasisintro" class="main-content">
							<h2>Oasis 2012 : The Reinvention - Intro</h2>
							<p>
								Intro site
							</p>
						</div>
						<div id="oasisapp" class="main-content">
							<h2>Oasis 2013 : The Elements - Android App</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="apogeeapp" class="main-content">
							<h2>APOGEE 2014 - Android App</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="aarohan" class="main-content">
							<h2>Aarohan : Brainiac</h2>
							<p>
								Nihav Jain
							</p>
						</div>

						<div id="acm" class="main-content">
							<h2>ACM Student Chapter, BITS Pilani</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="checkmate" class="main-content">
							<h2>Checkmate</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="codeenigma" class="main-content">
							<h2>Code Enigma</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="iw" class="main-content">
							<h2>Internet Whirlwind</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="sms" class="main-content">
							<h2>Stock Market Simulation</h2>
							<p>
								Nihav Jain
							</p>
						</div>

						<div id="personal" class="main-content">
							<h2>Personal Projects</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="bisag" class="main-content">
							<h2>BISAG</h2>
							<p><span style="text-decoration: underline;">Project Description</span>: DEM Profile Generator is a utility to facilitate the use of spatial and geo-spatial technologies. It generates graphs of the height variations on the terrain as well as a map of instrumentally derived seismic intensities. These maps provide a representation of the extent of damage following an earthquake. They can be used for emergency response, loss estimation, and for public information through the media.</p>
<p>For example, maps of shaking intensity can be combined with databases of inventories of buildings and lifelines to rapidly produce maps of estimated damage.</p>
<p>Using an input Geo-TIFF image as a height map, we generate an image presenting the 3D visualization of the earth's terrain. Also, if the user inputs the parameters of an earthquake (latitude-longitude of the epicenter, depth of origin and magnitude in Richter scale), we generate the corresponding shake map, clearly representing the danger levels using appropriate colors.</p>
<p><span style="text-decoration: underline;">Tools Used</span> - Java, Java Advanced Imaging library, jChart2d library for graph plotting, NetBeans IDE</p>
<p><span style="text-decoration: underline;">DEM</span> - A Digital Elevation Model is a digital model or 3D representation of a terrain's surface.</p>
<p><span style="text-decoration: underline;">Shake Map</span> - A map showing ground movement and shaking intensity following major earthquakes.</p>
<p><span style="text-decoration: underline;">GeoTIFF</span> - It is a public domain metadata standard which allows geo-referencing information to be embedded within a TIFF file.</p>
<p><span style="text-decoration: underline;">Process</span> -</p>
<p>1. <span style="text-decoration: underline;">Reading the Geo-TIFF in Java</span> - The TIFF format, not being one of common image file formats like JPEGs and PNGs, cannot be directly loaded/read by the native classes of Java. We, therefore, use the Java Advanced Imaging (JAI) library to read the input TIFF image and extract relevant information from it.</p>
<p>Unlike the common image file formats, the individual pixel values in a Geo-TIFF do not represent the pixel color. They, in fact, represent the height of that particular land piece in meters above sea level. Using the RenderedOp class of JAI, we get to know the highest and lowest height values in the given file. Using this information, we scale down the pixel values to the range of 0-255, thus making it possible for us to display the TIFF file like any other image format.</p>
<p>Here is the code-snippet to read a Geo-TIFF and convert it to a BufferedImage and Image object of Java -</p>
<pre><code>RenderedImage image = JAI.create("fileload",s);</code></pre>
<pre><code>ParameterBlock pbMaxMin = new ParameterBlock();</code></pre>
<pre><code>pbMaxMin.addSource(image);</code></pre>
<pre><code>RenderedOp extrema = JAI.create("extrema", pbMaxMin);</code></pre>
<pre><code>double[] allMins = (double[])extrema.getProperty("minimum");</code></pre>
<pre><code>double[] allMaxs = (double[])extrema.getProperty("maximum");</code></pre>
<pre><code>minValue = allMins[0];</code></pre>
<pre><code>maxValue = allMaxs[0];</code></pre>
<pre><code>double[] multiplyByThis = new double[1];</code></pre>
<pre><code>multiplyByThis[0] = (255.0/(maxValue-minValue));</code></pre>
<pre><code>double[] addThis = new double[1];</code></pre>
<pre><code>addThis[0] = -minValue/3;</code></pre>
<pre><code>//rescale the pixels levels:</code></pre>
<pre><code>&nbsp;&nbsp;</code></pre>
<pre><code>ParameterBlock pbRescale = new ParameterBlock();</code></pre>
<pre><code>pbRescale.add(multiplyByThis);</code></pre>
<pre><code>&nbsp;pbRescale.add(addThis);</code></pre>
<pre><code>pbRescale.addSource(image);</code></pre>
<pre><code>PlanarImage surrogateImage = (PlanarImage)JAI.create("rescale", pbRescale);</code></pre>
<pre><code>//converting the data type for displaying.</code></pre>
<pre><code>ParameterBlock pbConvert = new ParameterBlock();</code></pre>
<pre><code>pbConvert.addSource(surrogateImage);</code></pre>
<pre><code>pbConvert.add(DataBuffer.TYPE_BYTE);</code></pre>
<pre><code>surrogateImage = JAI.create("format", pbConvert);</code></pre>
<pre><code>BufferedImage temp = surrogateImage.getAsBufferedImage();</code></pre>
<pre><code>Raster temp_data = temp.getData();</code></pre>
<pre><code>double scaleFactor = 0.2;</code></pre>
<pre><code>scaledDim = new Dimension();</code></pre>
<pre><code>scaledDim.setSize(scaleFactor * temp.getHeight(), scaleFactor * temp.getWidth());</code></pre>
<pre><code>Image scaledImg = temp.getScaledInstance(scaledDim.width, scaledDim.height, BufferedImage.TYPE_BYTE_GRAY);<br /><br /></code></pre>
<p>This is the resultant image after the above operations. The "whiter" the pixel, the more is its height above sea level and vice-versa.</p><img src="images/out.jpg" />
<p>2. <span style="text-decoration: underline;">Bump Mapping for 3D Visualization of Earth's terrain</span> - The current image appears to be flat because we look at it right from the top. We need to look at it from a certain angle in order to get a proper 3D perception of the terrain. We take a light source at a point (2*width, height, 30) w.r.t. the image. We now need to take the dot product of light vector with the normal vector of a given pixel. This dot product gives us the intensity of light reflected by that pixel. We take A(x-1, y), B(x+1, y) and C(x, y-1), D(x, y+1) in the same plane. The normal vector of a pixel (x, y) is calculated by taking the cross product of AB and CD.&nbsp;</p>
<img src="images/normal vector.png" />
<p>The following code snippet calculates the normal vector of each pixel -</p>
<pre>int[] arr=new int[1];<br />for (int x = 1; x &lt; img_width - 1; x++)<br />{<br />&nbsp;&nbsp;&nbsp; for (int y = 1; y &lt; img_height - 1; y++)<br />    {</pre>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    image.getPixel( x + 1, y,arr);<br />         float X0= arr[0];<br /><br />         image.getPixel(x - 1, y,arr);<br />         float X1 = arr[0];<br /><br />         image.getPixel(x, y+1,arr);<br />         float Y0 = arr[0];<br /><br />         image.getPixel(x , y-1,arr);<br />         float Y1 = arr[0];<br /><br />         float Zx = (X0-X1)*verticalExaggeration;<br />         float Zy = (Y0-Y1)* verticalExaggeration;<br /><br />         float mod = (float)Math.sqrt(Zx*Zx+Zy*Zy+60*60);</pre>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float Xd=-Zx/mod;<br />         float Yd=-Zy/mod;<br /><br />         float Nx = Xd;<br />         float Ny = Yd;<br />         float Nz = 60/mod;</pre>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (Nz &lt; 0.0f)<br />            Nz = 0.0f;</pre>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; normalvectors[y * img_width + x][0] = Nx;<br />         normalvectors[y * img_width + x][1] = Ny;<br />         normalvectors[y * img_width + x][2] = Nz;</pre>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</pre>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</pre>
<pre><code>&nbsp;</code></pre>
<p>The following snippet calculates the dot product, and in turn assigns the final reflected color for each pixel -</p>
<pre><code><strong>for</strong> (x = 0; x &lt; img_width; x++)<br /></code>{<br />&nbsp;&nbsp;&nbsp; <strong>for</strong> (y = 0; y &lt; img_height; y++)<br />&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Nx = normalvectors[y * img_width + x][0];<br />         Ny = normalvectors[y * img_width + x][1];<br />         Nz = normalvectors[y * img_width + x][2];<br /><br />         // make vector from pixel to light<br />         lightvX = (<strong>float</strong>)(light[0] - x);<br />         lightvY = (<strong>float</strong>)(light[1] - y);<br />         lightvZ = (<strong>float</strong>)(light[2]&nbsp; - 0.0f);<br /><br />         // normalize<br />         length = (<strong>float</strong>).1*((<strong>float</strong>)Math.<em>sqrt</em> (lightvX*lightvX + lightvY*lightvY + lightvZ*lightvZ));<br /><br />         lightvX /= length;<br />         lightvY /= length;<br />         lightvZ /= length;</pre>
<pre><code>&nbsp;</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // take dot product<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intensity = (Nx * lightvX + Ny * lightvY + Nz * lightvZ);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>if</strong> (intensity &lt; 0.0f){intensity = 0.0f;}</pre>
<pre><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // brighten slightly (ambient)<br /></code>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intensity+=0.1;</pre>
<pre><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>if</strong> (intensity &gt; 1.0) {<br /></code> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intensity = (<strong>float</strong>) 1.0;}</pre>
<pre><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; oldR = 255;<br /></code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; oldG = 255;<br />   &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; oldB = 255;</pre>
<pre><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>newR = (<strong>int</strong>)(oldR * intensity*1.5);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newG = (<strong>int</strong>)(oldG * intensity*1.5);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newB = (<strong>int</strong>)(oldB * intensity*1.5);</pre>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>if</strong>(newR &gt; 255)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newR = 255;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>if</strong>(newG &gt; 255)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newG = 255;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>if</strong>(newB &gt; 255)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newB = 255;</pre>
<pre><code> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buffer[y * img_width + x] = (255 &lt;&lt; 24) | (newR &lt;&lt; 16) | (newG &lt;&lt; 8) | newB;</code></pre>
<pre><code>  &nbsp; }</code></pre>
<pre><code>}</code></pre>
<p>We now convert the saved values as a jpeg -</p>
<pre><code>Image blitthis = createImage(<strong>new</strong> MemoryImageSource(img_width, img_height, buffer, 0, img_width));<br /></code>BufferedImage bi = <strong>new</strong> BufferedImage(blitthis.getWidth(<strong>null</strong>),blitthis.getHeight(<strong>null</strong>),BufferedImage.<em>TYPE_INT_RGB</em>);<br />Graphics bg = bi.getGraphics();<br />bg.drawImage(blitthis, 0, 0, <strong>null</strong>);<br />bg.dispose();<br /><br />File outputfile = <strong>new</strong> File("shake.jpg");<br /><strong>try</strong> {<br /><em>      write</em>(bi,"jpg", outputfile);<br />  &nbsp;&nbsp;&nbsp; normalvectors = <strong>null</strong>;<br />&nbsp;&nbsp;&nbsp; } <strong>catch</strong> (IOException e) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.printStackTrace();<br />           }</pre>
<p>The final output image from this process is -</p>
<img src="images/shake1.jpg" />
<p>Now that we have our bump map with the light intensities, we can assign any color scheme to this map, be it according to the height or according to the seismic intensities.</p>
<p>The color to be allotted should be calculated normally and then multiplied by the intensity value to get the reflected color. Presented is the map colored according to various height ranges in the map.</p>
<img src="images/height.jpg" />
						</div>
						<div id="aarohan14" class="main-content">
							<h2>Aarohan</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="apogee14" class="main-content">
							<h2>APOGEE 2014</h2>
							<p>
								Nihav Jain
							</p>
						</div>

						<div id="experience" class="main-content">
							<h2>Experience</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="resume" class="main-content">
							<h2>Resume</h2>
							<p>
								Nihav Jain
							</p>
						</div>
						<div id="extra" class="main-content">
							<h2>Extra Curricular</h2>
							<p>
								Nihav Jain
							</p>
						</div>
					</div><!-- /scroller-inner -->
				</div><!-- /scroller -->

			</div><!-- /pusher -->
		</div><!-- /container -->
		<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="js/jquery-ui-1.10.1.custom.min.js"></script>
		<!--<script type="text/javascript" src="js/jquery.mobile-1.4.2.min.js"></script>-->
		<script src="js/classie.js"></script>
		<script src="js/mlpushmenu.js"></script>
		<script>
			new mlPushMenu( document.getElementById( 'mp-menu' ), document.getElementById( 'trigger' ), {
				type : 'cover'
			} );
		</script>
	</body>
</html>